<!DOCTYPE html>
<html>
<head>
  <title>Football Game</title>
  <style>
    body { margin: 0; background: #1e7f3b; }
    canvas { display: block; margin: auto; background: #2ecc71; }
  </style>
</head>
<body>

<canvas id="game" width="800" height="500"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let keys = {};
document.addEventListener("keydown", e => keys[e.key] = true);
document.addEventListener("keyup", e => keys[e.key] = false);

const player = { x: 100, y: 250, r: 15, speed: 4 };
const ai = { x: 650, y: 250, r: 15, speed: 2.5 };
const ball = { x: 400, y: 250, r: 8, vx: 0, vy: 0 };

function update() {
  // Player movement
  if (keys["w"]) player.y -= player.speed;
  if (keys["s"]) player.y += player.speed;
  if (keys["a"]) player.x -= player.speed;
  if (keys["d"]) player.x += player.speed;

  // AI follows ball
  ai.x += Math.sign(ball.x - ai.x) * ai.speed;
  ai.y += Math.sign(ball.y - ai.y) * ai.speed;

  // Ball movement
  ball.x += ball.vx;
  ball.y += ball.vy;
  ball.vx *= 0.98;
  ball.vy *= 0.98;

  kick(player);
  kick(ai);

  draw();
  requestAnimationFrame(update);
}

function kick(p) {
  let dx = ball.x - p.x;
  let dy = ball.y - p.y;
  let dist = Math.hypot(dx, dy);

  if (dist < p.r + ball.r) {
    ball.vx = dx * 0.2;
    ball.vy = dy * 0.2;
  }
}

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Field lines
  ctx.strokeStyle = "white";
  ctx.lineWidth = 2;
  ctx.beginPath();
  ctx.moveTo(400, 0);
  ctx.lineTo(400, 500);
  ctx.stroke();

  drawCircle(player, "blue");
  drawCircle(ai, "red");
  drawCircle(ball, "white");
}

function drawCircle(obj, color) {
  ctx.fillStyle = color;
  ctx.beginPath();
  ctx.arc(obj.x, obj.y, obj.r, 0, Math.PI * 2);
  ctx.fill();
}

update();
</script>

</body>
</html>
